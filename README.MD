The only public entrypoint service.
It handles all incoming http requests.

List of routes:
--------------

- GET /users - get a list of users with pagination (10 items per page). `GET /users?page=2`
- GET /users/{id} - get a single user
- POST /users - create a user. Accepts only valid user json entity.
- GET /users/{id}/orders - get a list of user's orders with pagination (10 items per page). `GET /users/1?page=2`
- POST /users/{id}/orders - create an order for user. Accepts only valid order json entity.

Entity schemas:
==============
User
----

```
id: unique integer (autogenerated)
email: unique string (valid email)
```

Example

```
POST /users
{
   "email": "example@email.com" 
}

Response: 201 User created
Response: 422 Invalid request
Response: 409 User already exists
Response: 500 Internal error

GET /users/1
{
    "id": 1,
    "email": "example@email.com" 
}

Response: 200 Ok
Response: 404 User not found
Response: 500 Internal error
```

Order
-----

```
id: unique integer (autogenerated)
created_at: datetime (autogenerated, date of creation)
amount: integer
user_id: integer
```
Example

```
POST /users/1/orders
{
    "id": 1,
    "created_at": "2022-09-27 12:40:12",
    "amount": 123,
    "user_id": 1
}

Response: 201 Order created
Response: 404 User not found
Response: 422 Invalid request
Response: 500 Internal error

GET /users/1/orders?page2
[
    {
        "id": 1,
        "created_at": "2022-09-27 12:40:12",
        "amount": 123,
        "user_id": 1
    },
    {
        "id": 2,
        "created_at": "2022-09-23 12:40:12",
        "amount": 321,
        "user_id": 1
    }
]

Response: 200 Ok
Response: 404 User not found
Response: 500 Internal error
```

Gateway service handles incoming http requests and sends request to the according service to build a response.

For example GET /users/{id} will forward call to users service and so on.

`Users` and `Orders` services are not publicly accessible!

For faster development you can use a common docker-compose.yaml file with common database. And keep everything in one git repo.
Each service should work independently (even with different frameworks or without framework at all if you want).

Gateway service should carry about failed requests and apply a retry policy. (configurable number of tries with
exponential backoff)

Gateway service should not make any database queries. It should only forward call to appropriate service via http api.
All database logic should be encapsulated by according service.
